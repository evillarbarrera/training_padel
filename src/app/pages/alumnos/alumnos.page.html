<ion-content>

  <!-- Hero Header -->
  <div class="header-nike">
    <div class="header-overlay"></div>
    <div class="header-content">
      <h1 class="header-title">Mis Alumnos</h1>
      <p class="header-sub">Seguimiento de packs y progreso</p>
    </div>
  </div>

  <!-- Main Content -->
  <div class="dashboard-container">

    <!-- Search Box -->
    <div class="search-section animate-up">
      <div class="nike-search-box">
        <ion-icon name="search-outline"></ion-icon>
        <ion-input placeholder="Buscar alumno..." [(ngModel)]="filtro">
        </ion-input>
      </div>
    </div>

    <!-- Students List -->
    <div class="students-list">

      <div class="nike-card horizontal-student-card animate-up" *ngFor="let alumno of alumnosFiltrados; let i = index"
        [style.animation-delay]="(i * 0.05) + 's'">
        <div class="card-media">
          <img src="/assets/mod-packs.jpg" class="student-img" />
        </div>

        <div class="card-content-main">
          <div class="student-header">
            <h3>{{ alumno.nombre }}</h3>
            <ion-badge [color]="alumno.activo ? 'success' : 'medium'" mode="ios" class="status-badge">
              {{ alumno.activo ? 'Activo' : 'Inactivo' }}
            </ion-badge>
          </div>

          <div class="student-details">
            <p><strong>Pack:</strong> {{ alumno.pack ?? 'Sin pack active' }}</p>
          </div>

          <!-- Classes Stats -->
          <!-- Stats Row -->
          <!-- Stats Row -->
          <div class="stats-row">
            <div class="stat-item">
              <span class="stat-value">{{ alumno.pagadas || 0 }}</span>
              <span class="stat-label">Pagadas</span>
            </div>
            <div class="stat-item">
              <span class="stat-value">{{ alumno.reservadas }}</span>
              <span class="stat-label">Reservadas</span>
            </div>
            <div class="stat-item">
              <span class="stat-value">{{ alumno.pendientes }}</span>
              <span class="stat-label">Restantes</span>
            </div>
          </div>

          <div class="student-footer">
            <ion-button class="action-button secondary" (click)="verProgreso(alumno.id)">
              <ion-icon name="stats-chart-outline" slot="start"></ion-icon>
              Progreso
            </ion-button>
            <ion-button class="action-button" (click)="evaluar(alumno.id)">
              <ion-icon name="analytics-outline" slot="start"></ion-icon>
              Evaluar
            </ion-button>
          </div>
        </div>
      </div>

      <!-- No Results -->
      <div class="empty-state animate-fade" *ngIf="alumnosFiltrados.length === 0">
        <ion-icon name="people-outline"></ion-icon>
        <p>No se encontraron alumnos</p>
      </div>

    </div>

  </div>

  <!-- Back FAB -->
  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button class="nike-fab back-fab" (click)="goToHome()">
      <ion-icon name="chevron-back-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>

</ion-content>