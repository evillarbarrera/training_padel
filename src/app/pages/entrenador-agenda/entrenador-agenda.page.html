<ion-content>

  <!-- Hero Header -->
  <div class="header-nike">
    <div class="header-overlay"></div>
    <div class="header-content">
      <h1 class="header-title">Agenda Semanal</h1>
      <p class="header-sub">Organiza tus sesiones y alumnos</p>
    </div>
  </div>

  <!-- Search & Profile -->
  <div class="dashboard-container">

    <div class="coach-profile-card animate-up">
      <img [src]="avatarUrl || 'https://i.pravatar.cc/150?u=coach'" class="coach-avatar" />
      <div class="coach-meta">
        <h2>{{ entrenadorNombre }}</h2>
        <p>Entrenador Jefe</p>
      </div>
    </div>

    <!-- Buscador Nike -->
    <div class="search-section animate-up" style="animation-delay: 0.05s;">
      <div class="nike-search-box">
        <ion-icon name="search-outline"></ion-icon>
        <ion-input [(ngModel)]="busqueda" placeholder="Buscar alumno o sesiÃ³n...">
        </ion-input>
      </div>
    </div>

    <!-- Weekly Agenda -->
    <div class="agenda-list">

      <div class="day-group animate-up" *ngFor="let d of semana; let i = index"
        [style.animation-delay]="(i * 0.1) + 's'">
        <div class="day-header">
          <span class="day-name">{{ d.nombre }}</span>
          <span class="day-number">{{ d.numero }}</span>
        </div>

        <div class="sessions-container">
          <div class="nike-card session-small-card" *ngFor="let e of entrenamientosPorDia[d.nombre]">
            <div class="session-time">{{ e.hora }}</div>
            <div class="session-info">
              <span class="student-name">{{ e.alumno }}</span>
              <span class="session-type">{{ e.tipo }}</span>
            </div>

            <div class="session-actions">
              <ion-button fill="clear" (click)="reagendarClase(e)">
                <ion-icon name="settings-outline"></ion-icon>
              </ion-button>
              <ion-button fill="clear" class="btn-cancel" (click)="cancelarClase(e)">
                <ion-icon name="close-outline"></ion-icon>
              </ion-button>
            </div>
          </div>

          <div class="empty-day" *ngIf="!entrenamientosPorDia[d.nombre] || entrenamientosPorDia[d.nombre].length === 0">
            <p>Sin sesiones programadas</p>
          </div>
        </div>
      </div>

    </div>

  </div>

  <!-- Back FAB -->
  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button class="nike-fab back-fab" (click)="volver()">
      <ion-icon name="chevron-back-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>

</ion-content>