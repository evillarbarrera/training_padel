<ion-content class="nike-bg">

  <!-- ===============================
       HEADER
  ================================ -->
  <div class="header-nike">
    <div class="header-overlay"></div>
    <div class="header-content">
      <h1>Disponibilidad</h1>
      <p>Selecciona tus horarios disponibles</p>
    </div>
  </div>

  <!-- ===============================
       DÃAS
  ================================ -->
  <ion-segment
    scrollable
    [(ngModel)]="diaSeleccionado"
    class="dias-segment">

    <ion-segment-button
      *ngFor="let d of dias"
      [value]="d.fecha">

      <ion-label>
        {{ d.nombre }}<br />
        <small>{{ d.fecha | date:'dd/MM' }}</small>
      </ion-label>

    </ion-segment-button>

  </ion-segment>

  <!-- ===============================
       ACCIONES
  ================================ -->
  <div
    class="acciones-bloques"
    *ngIf="bloquesPorDia[diaSeleccionado]">

    <div class="acciones-card">

      <button
        *ngIf="!todosSeleccionados"
        class="accion-btn"
        (click)="seleccionarTodos()">

        <ion-icon name="checkmark-done-outline"></ion-icon>
        <span>Seleccionar todo</span>

      </button>

      <button
        *ngIf="todosSeleccionados"
        class="accion-btn limpiar"
        (click)="deseleccionarTodos()">

        <ion-icon name="close-circle-outline"></ion-icon>
        <span>Limpiar</span>

      </button>

    </div>
  </div>

  <!-- ===============================
       BLOQUES
  ================================ -->
  <div
    class="bloques-container"
    *ngIf="bloquesPorDia[diaSeleccionado]">

    <div
      class="bloque"
      *ngFor="let b of bloquesPorDia[diaSeleccionado]"
      [class.seleccionado]="b.seleccionado"
      [class.ocupado]="b.ocupado"
      (click)="toggleBloque(b)">

      {{ b.hora_inicio }} - {{ b.hora_fin }}

    </div>

  </div>

  <!-- ===============================
       GUARDAR
  ================================ -->
  <ion-fab vertical="bottom" horizontal="end">
    <ion-fab-button color="dark" (click)="guardarDisponibilidad()">
      <ion-icon name="save-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>

</ion-content>
